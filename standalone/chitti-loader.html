<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chitti â€” One-Click Setup</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, #fef9e7 0%, #fdebd0 50%, #fadbd8 100%);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
    color: #2c3e50;
  }

  h1 { font-size: 2.2em; margin-bottom: 8px; }
  .subtitle { font-size: 1.1em; color: #666; margin-bottom: 40px; }

  .card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    padding: 32px;
    max-width: 560px;
    width: 100%;
    margin-bottom: 28px;
  }

  .card h2 {
    font-size: 1.3em;
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .card .label {
    font-size: 0.7em;
    background: #27ae60;
    color: white;
    padding: 2px 8px;
    border-radius: 8px;
    font-weight: 600;
    vertical-align: middle;
  }
  .card .label.alt {
    background: #7f8c8d;
  }
  .card p { margin: 10px 0; line-height: 1.6; color: #555; }

  /* Bookmarklet button */
  .bookmarklet-wrap {
    display: flex;
    justify-content: center;
    margin: 24px 0 16px;
  }
  .bookmarklet {
    display: inline-block;
    background: linear-gradient(135deg, #f39c12, #e67e22);
    color: white;
    font-size: 1.3em;
    font-weight: 700;
    padding: 14px 32px;
    border-radius: 12px;
    text-decoration: none;
    cursor: grab;
    box-shadow: 0 4px 16px rgba(243, 156, 18, 0.4);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    user-select: none;
    -webkit-user-select: none;
  }
  .bookmarklet:hover {
    transform: translateY(-2px) scale(1.04);
    box-shadow: 0 6px 24px rgba(243, 156, 18, 0.5);
  }
  .bookmarklet:active { cursor: grabbing; transform: scale(0.97); }

  .steps {
    list-style: none;
    counter-reset: steps;
    margin: 16px 0 0;
  }
  .steps li {
    counter-increment: steps;
    padding: 8px 0 8px 40px;
    position: relative;
    line-height: 1.5;
    color: #555;
  }
  .steps li::before {
    content: counter(steps);
    position: absolute;
    left: 0;
    top: 7px;
    width: 28px;
    height: 28px;
    background: #f39c12;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85em;
  }

  /* Code block */
  .code-wrap {
    position: relative;
    margin: 16px 0;
  }
  pre {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 16px;
    border-radius: 10px;
    font-size: 0.85em;
    overflow-x: auto;
    line-height: 1.5;
  }
  pre .kw { color: #c586c0; }
  pre .fn { color: #dcdcaa; }
  pre .str { color: #ce9178; }
  pre .cmt { color: #6a9955; }

  .copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: #444;
    color: #ddd;
    border: none;
    padding: 5px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8em;
    transition: background 0.15s;
  }
  .copy-btn:hover { background: #666; }
  .copy-btn.copied { background: #27ae60; color: white; }

  .hint {
    font-size: 0.85em;
    color: #999;
    text-align: center;
    margin-top: 6px;
  }

  .divider {
    display: flex;
    align-items: center;
    gap: 12px;
    max-width: 560px;
    width: 100%;
    margin-bottom: 28px;
    color: #aaa;
    font-size: 0.9em;
  }
  .divider::before, .divider::after {
    content: '';
    flex: 1;
    border-top: 1px solid #ddd;
  }

  footer {
    margin-top: 20px;
    color: #aaa;
    font-size: 0.8em;
  }
  footer a { color: #aaa; }
</style>
</head>
<body>

<h1>Chitti</h1>
<p class="subtitle">Your cockatiel companion for Google Colab</p>

<!-- Option A: Bookmarklet -->
<div class="card">
  <h2>Option A: Bookmark <span class="label">Recommended</span></h2>
  <p>Drag the button below to your <strong>bookmark bar</strong>. Then click it on any Colab notebook to summon Chitti!</p>

  <div class="bookmarklet-wrap">
    <a class="bookmarklet"
       href="javascript:void(fetch('https://cdn.jsdelivr.net/gh/youmemonk/colab-pets@main/standalone/chitti.js').then(r=>r.text()).then(t=>{if(!window._chittiLoaded){document.head.appendChild(Object.assign(document.createElement('script'),{textContent:t}))}else{console.log('Chitti is already here!')}}))"
       title="Drag me to your bookmark bar!"
       onclick="alert('Drag this button to your bookmark bar instead of clicking it!'); return false;">
      Chitti
    </a>
  </div>

  <ol class="steps">
    <li>Make sure the <strong>bookmark bar</strong> is visible<br><span style="color:#999; font-size:0.9em">(Chrome: Ctrl+Shift+B / Cmd+Shift+B)</span></li>
    <li><strong>Drag</strong> the orange button above into your bookmark bar</li>
    <li>Open any <strong>Google Colab</strong> notebook</li>
    <li>Click the <strong>"Chitti"</strong> bookmark &mdash; she appears!</li>
  </ol>

  <p class="hint">One-time setup. Works on any Colab tab forever.</p>
</div>

<div class="divider">or, if bookmarks don't work</div>

<!-- Option B: Colab Cell -->
<div class="card">
  <h2>Option B: Colab Cell <span class="label alt">Fallback</span></h2>
  <p>Copy the code below into a <strong>code cell</strong> at the top of your Colab notebook. Run it (Shift+Enter) to summon Chitti.</p>

  <div class="code-wrap">
    <pre><code><span class="kw">%%javascript</span>
<span class="cmt">// Summon Chitti!</span>
<span class="fn">fetch</span>(<span class="str">'https://cdn.jsdelivr.net/gh/youmemonk/colab-pets@main/standalone/chitti.js'</span>)
  .<span class="fn">then</span>(r => r.<span class="fn">text</span>())
  .<span class="fn">then</span>(t => document.head.<span class="fn">appendChild</span>(
    Object.<span class="fn">assign</span>(document.<span class="fn">createElement</span>(<span class="str">'script'</span>), { textContent: t })
  ))</code></pre>
    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
  </div>

  <ol class="steps">
    <li>Open your notebook in <strong>Google Colab</strong></li>
    <li>Add a <strong>code cell</strong> at the very top</li>
    <li><strong>Paste</strong> the code above into the cell</li>
    <li>Press <strong>Shift+Enter</strong> to run &mdash; Chitti appears!</li>
  </ol>

  <p class="hint">You can collapse the cell afterwards so it stays hidden.</p>
</div>

<footer>
  <a href="https://github.com/youmemonk/colab-pets" target="_blank">youmemonk/colab-pets</a>
</footer>

<script>
function copyCode(btn) {
  const code = `%%javascript
// Summon Chitti!
fetch('https://cdn.jsdelivr.net/gh/youmemonk/colab-pets@main/standalone/chitti.js')
  .then(r => r.text())
  .then(t => document.head.appendChild(
    Object.assign(document.createElement('script'), { textContent: t })
  ))`;
  navigator.clipboard.writeText(code).then(() => {
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
  });
}
</script>
</body>
</html>
